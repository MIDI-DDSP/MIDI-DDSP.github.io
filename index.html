<!DOCTYPE HTML>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BBL2BT00VH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', 'G-BBL2BT00VH');
    </script>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.55.5"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/github.min.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/skeleton.css">
    <link rel="stylesheet" href="css/custom.css">
    <title>&#34;MIDI-DDSP: Detailed Control of Musical Performance via Hierarchical Modeling&#34; </title>
</head>

<body>

<div class="container">

    <header role="banner">


    </header>


    <main role="main">

        <h1 id="title">MIDI-DDSP: Detailed Control of Musical Performance via Hierarchical Modeling</h1>

        <h2 id="paper">Main paper accepted by ICLR 2022</h2>

        <a href="https://openreview.net/pdf?id=UseMOjWENv">https://openreview.net/pdf?id=UseMOjWENv</a>
        <p><a href="https://github.com/magenta/midi-ddsp">Code</a> |
            <a href="https://magenta.tensorflow.org/midi-ddsp">Blog</a> |
            <a href="https://colab.research.google.com/github/magenta/midi-ddsp/blob/main/midi_ddsp/colab/MIDI_DDSP_Demo.ipynb">Colab Notebook</a> |
            <a href="https://huggingface.co/spaces/akhaliq/midi-ddsp">Huggingface Space</a> |
            <a href="https://github.com/magenta/midi-ddsp#command-line-midi-synthesis">Command-line MIDI Synthesis</a></p>

        <h2 id="contents">Contents</h2>

        <a href="#overview"><p>Overview</p></a>
        <a href="#human-adjust-demo"><p>Fine Grained Control (Figure 2)</p></a>
        <a href="#coconet-gen"><p>Full End-to-End Generation (Figure 6)</p></a>
        <a href="#dataset"><p>Dataset</p></a>
        <a href="#violin-midi-adjust"><p>Performance Synthesis & Adjustment</p></a>
        <a href="#midi-synthesis"><p>MIDI Synthesis</p></a>
        <a href="#bach-quartet"><p>Bach Quartet Synthesis</p></a>
        <a href="#note_expression_control"><p>Note Expression Control (Figure 4, 8, 9, and more)</p></a>
        <a href="#listening-test"><p>Listening Test (Figure 5, 7)</p></a>
        <a href="#user-experience"><p>An Example User Experience</p></a>
        <a href="gan_improvement.html"><p>Improvement of GAN (Figure 12)</p></a>
        <a href="#pitch-variant"><p>Pitch Variants in Synthesis</p></a>


        <h2 id="overview">Overview</h2>

        <p>
            In this work, we introduce MIDI-DDSP, a hierarchical model of musical instruments that enables both
            realistic neural audio synthesis and detailed user control.
            We infer explicit interpretable features for note, performance, and synthesis level, and we build models at
            each level to generate audio in a hierarchy.
            Here, we present the audio example results for MIDI-DDSP.
            For details about the system and architecture, please refer to the paper linked above.
        </p>
        <img src="pics/hero_diagram.png" alt="Model Architecture">


        <h2 id="human-adjust-demo">Fine Grained Control</h2>

        <p> The given performance on violin (top) is manipulated at all three levels (notes, expression, synthesis
            parameters) to create a new realistic yet personalized performance (bottom).
            An initial generation is automatically generated from the full MIDI-DDSP model (top),
            and an expert musician adjusted notes (blue),
            performance attributes (green), and low-level synthesis parameters (yellow) to craft a personalized
            expression of a musical piece (bottom). </p>

        <img src="pics/human-adjust-hero.png" alt="Fine Grained Control">

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Automatic Generation</th>
                <th style="text-align: center">Adjusted by Human Expert</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/human-adjust-demo/original.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/human-adjust-demo/changed.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
            </tr>
            </tbody>
        </table>

        <h2 id="coconet-gen">Full End-to-End Generation</h2>

        <p> MIDI-DDSP can take note input from a score level Bach composition model CocoNet and automatically
            synthesizing a Bach
            quartet by generating explicit latent for each level in the hierarchy. </p>

        <img src="pics/auto-gen-hero.png" alt="Full End-to-End Generation">

        <p><br>CocoNet re-harmonization of Ode to Joy in <b>woodwinds set</b>.</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Mix</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_woodwind_set/mix.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Soprano - Flute</th>
                <th style="text-align: center">Alto - Oboe</th>
                <th style="text-align: center">Tenor - Clarinet</th>
                <th style="text-align: center">Bass - Bassoon</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_woodwind_set/Soprano.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_woodwind_set/Alto.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_woodwind_set/Tenor.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_woodwind_set/Bass.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <p><br> Thanks to wide range of instrument recordings provided by the URMP dataset, we can also render CocoNet
            re-harmonization of Ode to Joy in <b>string set</b> (an octave higher).
        </p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Mix</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_string_set/mix.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Soprano - Violin</th>
                <th style="text-align: center">Alto - Violin</th>
                <th style="text-align: center">Tenor - Viola</th>
                <th style="text-align: center">Bass - Cello</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_string_set/Soprano.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_string_set/Alto.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_string_set/Tenor.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/coconet_generation/coconet_1_string_set/Bass.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h2 id="dataset">Dataset</h2>
        <p> To demonstrate modeling a variety of instruments, we use the <a
                href="#http://www2.ece.rochester.edu/projects/air/projects/URMP.html">URMP</a> dataset, a
            publicly-available audio dataset containing monophonic solo performances of a variety of instruments.
            Here we present a selection of the training data we used.
            Also, the recordings in the URMP dataset are played by students, and the performance quality is
            substantially lower compared to virtuoso datasets (<a
                    href="#https://magenta.tensorflow.org/datasets/maestro">MAESTRO</a>) used in other work.
            Typically, some recordings have bad intonation accuracy, which makes MIDI-DDSP also having intonation
            accuracy problems in synthesis.
            Here we also present some playings of the training data that are out of tune.
        </p>

        <img src="pics/urmp_dataset.png" alt="URMP Dataset">

        <p><br>Training Set:</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center"></th>
                <th style="text-align: center"></th>
                <th style="text-align: center"></th>


            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/dataset_show/normal/AuSep_1_tpt_05_Entertainer_01.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/dataset_show/normal/AuSep_1_vn_12_Spring_01.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/dataset_show/normal/AuSep_4_bn_28_Fugue_01.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>

            </tr>
            </tbody>
        </table>

        <p>Training set playing out of tune:</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center"></th>
                <th style="text-align: center"></th>
                <th style="text-align: center"></th>


            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/dataset_show/badcase/AuSep_1_vn_01_Jupiter_01.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/dataset_show/badcase/AuSep_2_tbn_22_Rejouissance_02.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/dataset_show/badcase/AuSep_4_db_35_Rondeau_01.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>

            </tr>
            </tbody>
        </table>

        <h2 id="violin-midi-adjust">Performance Synthesis & Adjustment</h2>

        <p>MIDI-DDSP enables detailed control, especially performance level control.
            Here we present given a violin MIDI score, how a human expert violin performer
            will adjust the automatic generation to makes it to the way an expert will perform.</p>

        <!--        todo: video of adjustment process?-->

        <img width="60%" height="60%" src="pics/human-adjust.PNG" alt="Adjust Process">


        <p>Viva La Vida:</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Automatic Generation</th>
                <th style="text-align: center">After Adjustment</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/viva_la_vida.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/viva_la_vida_0910_adjusted.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <p>Phantom:</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Automatic Generation</th>
                <th style="text-align: center">After Adjustment</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/phantom.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/phantom_0910_adjusted.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <p>And we can also turn a performance from score into another interpretation:</p>

        <p>Pirates of the Caribbean:</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Automatic Generation</th>
                <th style="text-align: center">After Adjustment</th>
                <th style="text-align: center">Play as Staccato</th>


            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/pirates_of_the_caribbean_original.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/pirates_of_the_caribbean_adjusted.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/pirates_of_the_caribbean_staccato.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>

            </tr>
            </tbody>
        </table>


        <h2 id="midi-synthesis">Automatic MIDI Synthesis</h2>

        <img width="60%" height="60%" src="pics/midi_synth.PNG" alt="Automatic MIDI Synthesis">

        <p>Here we present the automatic score-to-audio synthesis of MIDI-DDSP on generic MIDI input.
            Learned to perform from data, MIDI-DDSP can generate idiomatic details of human performance.
            For example, in some syntheses, breathing sounds between notes are generated.
        </p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Game of Thrones - Cello</th>
                <th style="text-align: center">La Vie En Rose - Trumpet</th>
                <th style="text-align: center">Viva La Vida - Violin</th>


            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/Game_of_Thrones_Solo_Cello.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/la_vie_en_rose.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/viva_la_vida.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>

            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Beauty and the Beast - Flute</th>
                <th style="text-align: center">Cannon in D - Cello</th>
                <th style="text-align: center">Phantom - Violin</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/Beauty_and_the_beast-Flute.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/Cello_solo_Canon_In_D.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/automatic_midi_synthesis-finished/phantom.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h2 id="bach-quartet">Bach Quartet Synthesis</h2>
        <p> Here we present MIDI-DDSP automatic Bach quartet synthesis by taking note input from <b>Bach Chorales</b>.
            Here, we present three types of instrument ensemble: string set, brasswind set and woodwind set.
            The volume of four parts are mixed with different gains:
            </br> String set: S +2dB, A +2dB, T -1dB, and B -1dB,
            </br> Woodwind set: S +2dB, A +2dB, T +5.6dB, and B 2.9dB,
            </br> Brasswind set: S +1.5dB, A +1.2dB, T 0dB, and B 1.8dB,
        </p>


        <p>BWV 227.1 - String Set</p>
        <table>
            <thead>
            <tr>
                <th style="text-align: center">Ensemble</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_string_set/mix.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Soprano - Violin</th>
                <th style="text-align: center">Alto - Violin</th>
                <th style="text-align: center">Tenor - Cello</th>
                <th style="text-align: center">Bass - Double Bass</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_string_set/Soprano.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_string_set/Alto.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_string_set/Tenor.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_string_set/Bass.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <p>BWV 227.1 - Brasswind Set</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Ensemble</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_brasswind_set/mix.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Soprano - Trumpet</th>
                <th style="text-align: center">Alto - French Horn</th>
                <th style="text-align: center">Tenor - Trombone</th>
                <th style="text-align: center">Bass - Tuba</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_brasswind_set/Soprano.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_brasswind_set/Alto.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_brasswind_set/Tenor.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_brasswind_set/Bass.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <p>BWV 227.1 - Woodwind Set</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Ensemble</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_woodwind_set/mix.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Soprano - Flute</th>
                <th style="text-align: center">Alto - Oboe</th>
                <th style="text-align: center">Tenor - Clarinet</th>
                <th style="text-align: center">Bass - Bassoon</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_woodwind_set/Soprano.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_woodwind_set/Alto.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_woodwind_set/Tenor.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv227.1_woodwind_set/Bass.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <p>More Bach Quartet</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">BWV165.6 - String Set</th>
                <th style="text-align: center">BWV178.7 - String Set</th>
                <th style="text-align: center">BWV180.7 - String Set</th>
                <th style="text-align: center">BWV245.14 - String Set</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv165.6_string_set/mix.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv178.7_string_set/mix.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv180.7_string_set/mix.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/bach_midi_synthesis/bwv245.14_string_set/mix.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h2 id="note_expression_control">Note Expression Control</h2>

        <img src="pics/control-diagram-three-row-no-frame.png" alt="Note Expression Control">

        <p>In MIDI-DDSP, manipulating note-level expression can effectively change the synthesis-level quantities. We
            show by taking a test-set sample (middle row) and adjusting each expression control value to lowest (bottom
            row) and highest (upper row), how each synthesis quantities (rightmost legend) would change. The dashed gray
            line in each plot indicates the note boundary.</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Original Sample</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/original.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Volume - Low</th>
                <th style="text-align: center">Volume - High</th>
                <th style="text-align: center">Vol. Fluc. - Low</th>
                <th style="text-align: center">Vol. Fluc. - High</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/amplitude_mean_0.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/amplitude_mean_2.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/amplitude_std_0.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/amplitude_std_2.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Vol. Peak Pos. - Low</th>
                <th style="text-align: center">Vol. Peak Pos. - High</th>
                <th style="text-align: center">Vibrato - Low</th>
                <th style="text-align: center">Vibrato - High</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/amplitudes_max_pos_0.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/amplitudes_max_pos_2.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/vibrato_extend_0.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/vibrato_extend_2.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Brightness - Low</th>
                <th style="text-align: center">Brightness - High</th>
                <th style="text-align: center">Attack Noise - Low</th>
                <th style="text-align: center">Attack Noise - High</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/brightness_0.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/brightness_2.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/attack_level_0.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/urmp_violin_absolute_grid_control_paper_figure/attack_level_2.wav"
                                autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <p>More details about note expression controls including Figure 8, 9 and more can be found
            <a href="note_expression_control.html">here</a>.</p>


        <h2 id="listening-test">Listening Test</h2>

        <p>The listening test results on Test-set MIDI Synthesis. All the audio samples below are generated with only
            MIDI from test-set as input.
            MIDI-DDSP synthesizes more realistic audio than a prior work MIDI2Params, and two concatenative
            samplers.</p>

        <img width="50%" height="50%" src="pics/listening-test-table.png" alt="Listening Test Bar Plot">

        <img src="pics/listening-test-spec-big.png" alt="Listening Test">


        <table>
            <thead>
            <tr>
                <th style="text-align: center">Ground-truth</th>
                <th style="text-align: center">DDSP Inference</th>
                <th style="text-align: center">MIDI-DDSP</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/listening-test-spec-show/ground-truth.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/listening-test-spec-show/ddsp_inference.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/listening-test-spec-show/midi-ddsp.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">Ableton</th>
                <th style="text-align: center">MIDI2Params</th>
                <th style="text-align: center">FluidSynth</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/listening-test-spec-show/ableton.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/listening-test-spec-show/midi2params.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/listening-test-spec-show/fluidsynth.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <p>For access to all the samples used in listening test, please check:
            <a href="https://github.com/MIDI-DDSP/MIDI-DDSP.github.io/blob/master/violin_listening_test.zip">https://github.com/MIDI-DDSP/MIDI-DDSP.github.io/blob/master/violin_listening_test.zip</a>
        </p>

        <p>For test-set generation of all other instruments, please check:
            <a href="https://github.com/MIDI-DDSP/MIDI-DDSP.github.io/blob/master/test_set_all_other_instruments.zip">https://github.com/MIDI-DDSP/MIDI-DDSP.github.io/blob/master/test_set_all_other_instruments.zip</a>
        </p>


        <h2 id="user-experience">An Example User Experience</h2>

        <p>This section presents a step-by-step user experience of an expert using and adjusting MIDI-DDSP to obtain
            satisfied music performance. Specifically, the human expert as a violin player will iterate on adjusting
            note expression controls, starting from what the expression generator predicts for a given piece.
            Figure below shows the original music score "Viva La Vida" as input to MIDI-DDSP.</p>

        <img src="samples/user_experience/score/Viva%20La%20Vida%20short%20-%201-1.png" alt="">
        <img src="samples/user_experience/spec/viva_la_vida_short-1.png" alt="">
        <table>
            <thead>
            <tr>
                <th style="text-align: center"></th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/user_experience/audio/viva_la_vida_short-1.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h3>1. Design and Adjust Articulations</h3>

        <p>The expert first designs the articulations of the piece based on automatic generation, marking up/down bow
            and the tie between the note, indicating the connections between notes. The results are shown in
            Figure below, where ties indicate the notes connected should be played as legato
            (played consecutively) and should have less attack noise.

            The expert adjusts the attack noise based on what the articulations designed. In here, the expert lowers the
            attack noise of the legato notes. The expert first applies the adjustments to the notes. Then, the expert
            fine-tuned the attack noise adjustments based on the synthesis result of the earlier adjustment.</p>

        <img src="samples/user_experience/score/Viva%20La%20Vida%20short%20-%202-1.png" alt="">
        <img src="samples/user_experience/spec/viva_la_vida_short-3.png" alt="">
        <table>
            <thead>
            <tr>
                <th style="text-align: center"></th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/user_experience/audio/viva_la_vida_short-3.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h3>2. Design and Adjust Fingering</h3>

        <p>The expert designs the fingering based on one's knowledge and experience of violin performance. The results
            are shown in below. The expert designs the first two measures of the piece to
            be played on E string ("E- - - -..." mark), and assign the fingering of each note (numbers above the notes).
            The choice of the string and the fingering of notes affects the brightness of the timbre.
            That is, playing on the E string should have a brighter timbre, and playing on an open string
            (fingering number "0") will have a brighter timbre compared to pressing the string (fingering number other
            than "0").

            The expert adjusts the notes' brightness based on the fingering design, based on the principle described
            above. The expert will first apply an initial adjustment to the brightness, then fine-tune the number
            according to the synthesis result.</p>

        <img src="samples/user_experience/score/Viva%20La%20Vida%20short%20-%204-1.png" alt="">
        <img src="samples/user_experience/spec/viva_la_vida_short-5.png" alt="">
        <table>
            <thead>
            <tr>
                <th style="text-align: center"></th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/user_experience/audio/viva_la_vida_short-5.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h3>3. Adjust Vibrato</h3>

        <p>The expert adjusts the vibrato of each note. Longer notes will be adjusted to have more vibrato to match how
            the expert would play the violin. Similarly, the expert first adjusts the note's vibrato based on the model
            prediction and fine-tune the numbers based on the synthesis result. The synthesized audio is shown in Figure
            below.</p>

        <img src="samples/user_experience/spec/viva_la_vida_short-7.png" alt="">
        <table>
            <thead>
            <tr>
                <th style="text-align: center"></th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/user_experience/audio/viva_la_vida_short-7.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h3>4. Design Special Articulations</h3>

        <p>The expert designs special articulations of the notes for artistic purposes. In this example, the expert
            designed some notes to play as staccato. The results are shown in Figure below where
            the purple dot above the notes indicates it to play as staccato.

            To adjust notes to staccato, the volume fluctuation, volume peak position, and attack noise needs to be
            adjusted from the original value. Specifically, the expert increases the volume fluctuation, decreases the
            volume peak position, and increases attack noise. Similarly, the expert first adjusts the vibrato of the
            note and fine-tune the numbers based on the synthesis result. In this step, the expert report that
            decreasing vibrato can help generate better staccato notes.</p>

        <img src="samples/user_experience/score/Viva%20La%20Vida%20short%20-%208-1.png" alt="">
        <img src="samples/user_experience/spec/viva_la_vida_short-9.png" alt="">
        <table>
            <thead>
            <tr>
                <th style="text-align: center"></th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/user_experience/audio/viva_la_vida_short-9.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h3>5. Fine-tune the Piece</h3>

        <p>After all designing and adjustments are made, if needed, the expert takes a final revision of the piece by
            fine-tuning the expression controls of the notes. In this example, the expert does not fine-tune the piece
            in the end as the audio synthesized by the previous step is good enough.</p>

        <a href="gan_improvement.html"><h2>Improvement of GAN</h2></a>

        <p>Please check <a href="gan_improvement.html">here</a> improvement of GAN in synthesis quality.</p>

        <h2 id="pitch-variant">Pitch Variants in Synthesis</h2>

        <p>Due to intonation problem in some recordings in the dataset, MIDI-DDSP will also suffer from inaccurate
            intonation in synthesized audio. Also because the pitch generation in MIDI-DDSP is an auto-regressive
            sampling process, each time the pitch can be different and MIDI-DDSP would accurately recreate the
            intonation problems in the dataset. Here we present some samples that has varying pitch accuracy. We plan to
            address this problem in the future works.</p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">CocoNet Generation</th>
                <th style="text-align: center">La Vie En Rose</th>
                <th style="text-align: center">Phantom</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/intonation_problem_samples/coconet.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/intonation_problem_samples/la_vie_en_rose.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/intonation_problem_samples/phantom.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h2 id="loss-ablation">Training Loss Ablation</h2>

        <p>Here we present the ablation experiment results on training loss of the synthesis generator.
            We compare original <b>MIDI-DDSP</b> which trained on cross-entropy loss on f0,
            multi-scale spectral loss and GAN objective, with
            <b>MIDI-DDSP params loss</b> and <b>MIDI-DDSP without GAN</b>.
            <b>MIDI-DDSP params loss</b> is trained on L1 loss on synthesis parameters other than f0 (amplitudes,
            harmonic distribution and noise magnitudes), cross-entropy loss on f0 and GAN objective.
            <b>MIDI-DDSP without GAN</b> is trained on only multi-scale spectral loss and cross-entropy loss on f0
            but no GAN objective.
            In conclusion, <b>MIDI-DDSP params loss</b> has similar sound quality than <b>MIDI-DDSP</b>, while
            <b>MIDI-DDSP without GAN</b> has notable worse sound quality.
            <br> Full audio samples can be found here:
            https://github.com/MIDI-DDSP/MIDI-DDSP.github.io/blob/master/eval_set_sample_for_loss_ablation.zip
        </p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center">MIDI-DDSP</th>
                <th style="text-align: center">MIDI-DDSP params loss</th>
                <th style="text-align: center">MIDI-DDSP without GAN</th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/loss_ablation_test/gan_loss_audio_loss_pred.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/loss_ablation_test/gan_loss_params_loss.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/loss_ablation_test/without_gan_loss_audio_loss_pred.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h2 id="expression-ablation">Note Expression Ablation</h2>

        <p>Here we present the ablation experiment results on note expression to find out if the performance
            quality improvement to MIDI2Params comes from the better/bigger model or the additional stage.
            For that purpose, we trained a synthesis generator with the same loss and GAN
            objective and uses the same hyperparameters as MIDI-DDSP. An audio sample of MIDI synthesis using this model
            is presented below.

            In conclusion, using only a synthesis generator without note expression can
            generate performance audio almost as good as MIDI-DDSP. However, the model will occasionally
            generate dead-pan notes without any expression (the note starts from 6s in the sample show below).
            Thus, the performance improvement of MIDI-DDSP largely comes from using a
            better/bigger model, namely a synthesis generator. However, the additional stage (note expression modeling)
            makes the audio synthesis more robust and more importantly enables the user editing on performance level.

            <br> Full audio samples can be found here:
            https://github.com/MIDI-DDSP/MIDI-DDSP.github.io/blob/master/no_expression_experiment.zip
        </p>

        <table>
            <thead>
            <tr>
                <th style="text-align: center"></th>

            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center">
                    <audio controls="controls" style="width: 240px">
                        <source src="samples/no_expression/viva_la_vida_no_expression_dead_pan.wav" autoplay/>
                        Your browser does not support the audio element.
                    </audio>
                </td>
            </tr>
            </tbody>
        </table>

        <h2>Open Source Image Attribution</h2>
        <p>The icons used throughout the paper and webpages are used under the Creative Commons license via the Noun
            Project. We
            gratefully acknowledge the following creators of these images:
            <br>Equalizer by fahmionline from the Noun Project
            <br>composer by Magicon from the Noun Project
            <br>Music Note by Randomhero from the Noun Project
            <br>composer by Amethyst Studio from the Noun Project
            <br>Violine by Symbolon from the Noun Project
            <br>Trumpet by Symbolon from the Noun Project
            <br>Audio by cataicon from the Noun Project.
            <br>bassoon by Symbolon from the Noun Project.
            <br>Clarinet by Symbolon from the Noun Project.
            <br>composer by Pham Duy Phuong Hung from the Noun Project.
            <br>Flute by Symbolon from the Noun Project.
            <br>Neural Network by Ian Rahmadi Kurniawan from the Noun Project.
            <br>oboe by Symbolon from the Noun Project.
            <br>Synthesizer by Jino from the Noun Project.
            <br>Violin by Olena Panasovska from the Noun Project.
            <br>Violinist by Luis Prado from the Noun Project.
        </p>

    </main>
</div>
</body>
</html>
